define(["jquery",M.cfg.wwwroot+"/mod/newsmod/lib/build/vue.min.js",M.cfg.wwwroot+"/mod/newsmod/lib/src/d3.v5.js"],(function(t,e,a){return e.component("post",{props:["treedata"],data:function(){return{isSelected:!1}},watch:{treedata:function(){this.createBubbleChart()}},mounted:function(){},methods:{createBubbleChart:function(){let t,e,r,n=[];a.timeFormatDefaultLocale({decimal:",",thousands:".",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var i=a.timeParse("%a, %e %b %Y %H:%M:%S %Z"),o=a.timeParse("%a, %e %b %Y %H:%M:%S %Z (UTC)");for(var c in this.treedata)this.treedata[c].count=void 0===this.treedata[c].children?10:10*this.treedata[c].children.length,this.treedata[c].time=i(this.treedata[c].date)||o(this.treedata[c].date),null===this.treedata[c].time&&console.log("warning: could not convert usenet date string into date object: ",this.treedata[c].date),this.treedata[c].id=c,n.push(this.treedata[c]);let d,s,l,u;console.log(n[1]),s=a.scaleLinear().domain([1,Math.max.apply(Math,n.map(t=>t.count))]).range([5,40]),l=a.scaleSequential().domain([0,100]).interpolator(a.interpolateRainbow),u=a.scaleLinear().domain([0,100]).range([0,350]),t=n.map(t=>({id:t.id,name:t.name,date:t.time,radius:s(t.count),fill:l(t.count),x:600*Math.random(),y:u(t.count)})),t.sort((t,e)=>e.date-t.date),a.select("#chart").append("svg").attr("height",350).attr("width",600),e=a.select("#chart svg").selectAll("circle").data(t).enter().append("circle").attr("id",t=>"circle-"+t.id).attr("r",t=>t.radius).attr("fill",t=>"salmon").attr("stroke",t=>a.rgb("salmon").darker()).on("mouseover",(function(t,e){return void a.select("#circle-"+t.id).attr("fill","red").attr("r",1.5*t.radius)})).on("mouseout",(function(t,e){return void a.select("#circle-"+t.id).attr("fill","salmon").attr("r",t.radius)})),r=a.select("#chart svg").selectAll("text").data(t).enter().append("text").text((function(t){return t.name})).attr("color","black").attr("font-size",8),d=a.forceSimulation().nodes(t).velocityDecay(.15).on("tick",(function(){e.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})),r.attr("x",t=>t.x).attr("y",t=>t.y)})).force("x",a.forceX().strength(.03).x(300)).force("y",a.forceY().strength(.03).y(175)).force("charge",a.forceManyBody().strength((function(t){return.03*-Math.pow(t.radius,2)})))}},template:'\n                <div>\n                    <div id="chart"></div>\n                </div>\n                '})}));